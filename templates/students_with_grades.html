{% extends "base.html" %}

{% block content %}
<div class="full-width-block"><div>
<section>
    <main class="px-3">
        <div class="container my-5">
            <h2>{{title}}</h2>
            <table class="table table-striped table-hover rounded-table">
                <thead class="table-dark">
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">fullname</th>
                    <th scope="col">dob</th>
                    <th scope="col">avg grade</th>
                    <th scope="col">group name</th>
                </tr>
                </thead>
                <tbody>
                {% for student in students %}
                <tr onclick="window.location.href='/students/{{ student.id }}';" style="cursor: pointer;">
                    <th scope="row">{{ offset + loop.index }}</th>
                    <td>{{ student.full_name }}</td>
                    <td>{{ student.dob }}</td>
                    <td>{{ student.avg_grade}}</td>
                    <td>{{ student.group_name}}</td>
                </tr>
                {% endfor %}
                </tbody>
            </table>
             <nav aria-label="Navigation">
                        <ul class="pagination justify-content-end">

                            {# Кнопка Previous #}
                            {% if offset > 0 %}
                            <li class="page-item">
                                <a class="page-link" href="?limit={{ limit }}&offset={{ offset - limit }}">Previous</a>
                            </li>
                            {% else %}
                            <li class="page-item disabled">
                                <a class="page-link" tabindex="-1" aria-disabled="true">Previous</a>
                            </li>
                            {% endif %}

                            {# Кнопка Next #}
                            {% if offset + limit < total_count %}
                            <li class="page-item">
                                <a class="page-link" href="?limit={{ limit }}&offset={{ offset + limit }}">Next</a>
                            </li>
                            {% else %}
                            <li class="page-item disabled">
                                <a class="page-link" tabindex="-1" aria-disabled="true">Next</a>
                            </li>
                            {% endif %}
                        </ul>
                    </nav>
        </div>
</section>
{% endblock %}